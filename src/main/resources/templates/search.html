<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header>
    <p class="displayed"><img th:src="@{/img/logo.svg}" alt="University Logo" class="logo"></p>
</header>

<main>
    <!--<h2>–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h2>-->

    <form th:action="@{/api/search}" th:method="get">
        <section class="search-section">
            <!--<label for="roomNumber">–ù–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏:</label>-->
            <input class="search-box" type="text" name="roomNumber"  id="roomNumber" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏" required>

            <div class="room-list">
                <!--<label for="buildingId">–ö–æ—Ä–ø—É—Å:</label>-->
                <select class="room-button" style="height: 40px;" name="buildingId" id="buildingId">
                    <option value="1" id="1">–ú–µ—Ö</option>
                    <option value="2" id="2">–ì–∏–¥—Ä–æ</option>
                    <option value="3" id="3">–ì–ª–∞–≤–Ω—ã–π</option>
                    <option value="4" id="4">–ó–æ–æ</option>
                    <option value="5" id="5">–≠–ª–µ–∫—Ç—Ä–æ</option>
                    <option value="6" id="6">–ó–†</option>
                    <option value="7" id="7">–≠–∫–æ–Ω–æ–º</option>
                    <option value="8" id="8">–í–ú</option>
                </select>
            </div>

            <button id="search-button" type="submit">üîç</button>
        </section>
    </form>



    <form th:action="@{/api/edit}" method="get">
        <input type="hidden" name="roomNumber" th:value="${roomNumber}">
        <input type="hidden" name="buildingId" th:value="${buildingId}">
        <button type="submit" class="refresh-button">–û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</button>
    </form>

    <!--<button class="floor-map-button">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ä—Ç—É —ç—Ç–∞–∂–∞</button>-->


    <section class="room-info">
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏ -->
        <div th:if="${auditoryDetails}">
            <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h2>
            <p>–ù–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏: <span th:text="${auditoryDetails.number}"></span></p>
            <p>–ö–æ—Ä–ø—É—Å: <span th:text="${auditoryDetails.buildingShortname}"></span></p>
            <p>–≠—Ç–∞–∂: <span th:text="${auditoryDetails.floor}"></span></p>

        </div>

        <!-- –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
        <div class="content" th:if="${devicesList}">
            <h3>–°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤</h3>
            <ul>
                <li th:each="device : ${devicesList}">
                    <div class="info-section">
                        <table class="device">
                            <tr>
                                <td style="width: 80%">
                                    <b><span th:text="${device.name}"></span></b>
                                </td>
                                <td>
                                    <select name="availability" id="availability" style="pointer-events: none; width: 30px; height: 30px; appearance: none; justify-content: center; border: none; font-weight: bold;" >
                                        <option value="true" th:selected="${!device.availability}">–î–∞</option>
                                        <option value="false" th:selected="${!device.availability}">–ù–µ—Ç</option>
                                    </select>
                                </td>
                            </tr>


                        </table>
                        <textarea th:text="${device.text}" readonly></textarea>
                    </div>
                </li>
            </ul>
        </div>
        <h2>–ö–∞—Ä—Ç–∞ —ç—Ç–∞–∂–∞</h2>
        <div class="map">
            <img th:src="@{${auditoryDetails.floorImage}}" alt="–ö–∞—Ä—Ç–∞ —ç—Ç–∞–∂–∞">
        </div>

    </section>
</main>
</body>
</html>
